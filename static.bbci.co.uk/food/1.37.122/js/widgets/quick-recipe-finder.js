glow.ready(function(){var d=glow.dom.get;var i=d("#search-keywords-label").hide().text();var j=d("#search-keywords");var h=j.val();if(!h||h===i){j.addClass("with-help-text");j.val(i);glow.events.addListener(j,"focus",function(k){if(j.hasClass("with-help-text")){j.val("").removeClass("with-help-text")}return true})}var c={index:"title",complete:true,activeOnShow:false,anim:"roll",parseData:function(k){return k.json().foods},onInputChange:function(){if(!this.data.length&&this.val().length){this.setData("/food/api/food/foods.json?pageSize=all&sortBy=title");this.loadData()}this.find()},onItemSelect:function(k){if(k.selectedItem.title.indexOf(" ")===-1){this.val(k.selectedItem.title)}else{this.val('"'+k.selectedItem.title+'"')}},formatItem:function(k){return(k.title)},useCache:true};new glow.widgets.AutoSuggest(j,[],c);glow.events.addListener("#quick-recipe-finder form","submit",function(k){if(d("#search-keywords").val()===i){d("#search-keywords").val("")}return true});var g=d(".search-help");var e=glow.dom.create('<a href="" class="help">?</a>');g.before(e);var a=new glow.widgets.Mask({opacity:0});var b=new glow.widgets.InfoPanel(g.prepend('<h3 class="hd">Help</h3>'),{id:"recipe-finder-help",context:e,pointerPosition:"b",className:"food-info-panel",modal:true,mask:a,hideWindowedFlash:false,width:480,offsetInContext:{x:"50%",y:"0%"}});if(glow.env.ie<=7){d(".food-info-panel .infoPanel-pointerT").css("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+PAL_STATIC_HOST+"/food/"+STATIC_ASSETS_VERSION+"/css/f/bgs/info-panel-pointer-T.png', sizingMethod='crop')");d(".food-info-panel .infoPanel-pointerB").css("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+PAL_STATIC_HOST+"/food/"+STATIC_ASSETS_VERSION+"/css/f/bgs/info-panel-pointer-B.png', sizingMethod='crop')");d(".food-info-panel .infoPanel-pointerL").css("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+PAL_STATIC_HOST+"/food/"+STATIC_ASSETS_VERSION+"/css/f/bgs/info-panel-pointer-L.png', sizingMethod='crop')");d(".food-info-panel .infoPanel-pointerR").css("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+PAL_STATIC_HOST+"/food/"+STATIC_ASSETS_VERSION+"/css/f/bgs/info-panel-pointer-R.png', sizingMethod='crop')")}glow.events.addListener(e,"click",function(k){k.preventDefault();b.show();e.addClass("selected")});glow.events.addListener(b,"afterHide",function(){e.removeClass("selected")});var f=d("#search-binder-filter");glow.events.addListener(f,"click",function(k){if(d("#quick-recipe-finder").hasClass("binder-theme")){d("#quick-recipe-finder").removeClass("binder-theme");d("#quick-recipe-finder h2").replaceWith("<h2>Quick recipe finder</h2>")}else{d("#quick-recipe-finder").addClass("binder-theme");d("#quick-recipe-finder h2").replaceWith("<h2>Search your binder</h2>")}})});